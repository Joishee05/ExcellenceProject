<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Lesson 14: Error Handling - SLU LearnCode</title>
    <link rel="stylesheet" href="../styles/tutorial.css?v=5014">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f7fa; color: #333; display: flex; flex-direction: column; }
        .navbar { position: relative !important; flex-shrink: 0; }
        .page-wrapper { display: flex; flex: 1; overflow: hidden; }
        .sidebar { width: 280px; background: white; border-right: 1px solid #ddd; padding: 20px 0; overflow-y: auto; flex-shrink: 0; height: 100%; }
        .sidebar-title { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: #999; padding: 0 15px; margin-bottom: 10px; letter-spacing: 0.5px; }
        .sidebar a { display: block; padding: 10px 15px; color: #666; text-decoration: none; font-size: 0.95rem; border-left: 3px solid transparent; transition: all 0.2s ease; }
        .sidebar a:hover { background: #f5f5f5; color: #f97316; }
        .sidebar a.active { background: #e8f1ff; color: #f97316; border-left-color: #f97316; font-weight: 600; }
        .main-content { flex: 1; padding: 0; overflow-y: auto; display: flex; flex-direction: column; }
        .lesson-header { background: white; padding: 20px; margin-bottom: 20px; border-radius: 8px; border-left: 4px solid #f97316; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .lesson-header h1 { font-size: 2rem; color: #1a1a1a; margin-bottom: 5px; font-weight: 700; }
        .lesson-meta { font-size: 0.9rem; color: #999; }
        .content-area { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); line-height: 1.8; }
        .content-area h2 { font-size: 1.5rem; color: #1a1a1a; margin-top: 25px; margin-bottom: 15px; border-bottom: 2px solid #e5e7eb; padding-bottom: 10px; font-weight: 700; }
        .content-area h2:first-of-type { margin-top: 0; }
        .content-area h3 { font-size: 1.15rem; color: #f97316; margin-top: 20px; margin-bottom: 10px; font-weight: 600; }
        .content-area p { color: #555; margin-bottom: 15px; line-height: 1.8; }
        .content-area ul, .content-area ol { margin-bottom: 15px; margin-left: 20px; }
        .content-area li { margin-bottom: 10px; color: #555; line-height: 1.7; }
        .content-area code { background: #f5f5f5; padding: 2px 6px; border-radius: 3px; color: #d4464f; font-family: 'Courier New', monospace; font-size: 0.9em; }
        .code-block { background: #2d2d2d; color: #f8f8f2; padding: 20px; margin: 20px 0; border-radius: 6px; font-family: 'Courier New', monospace; font-size: 0.9rem; line-height: 1.8; overflow-x: auto; border: 1px solid #444; word-break: break-word; white-space: pre-wrap; }
        .highlight-box { background: #eff6ff; border-left: 4px solid #f97316; padding: 15px; margin: 15px 0; border-radius: 4px; }
        .highlight-box strong { color: #f97316; }
        .nav-footer { display: flex; gap: 10px; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e5e7eb; justify-content: space-between; }
        .btn { padding: 10px 20px; background: #f97316; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; border: none; cursor: pointer; font-size: 0.95rem; transition: all 0.3s ease; }
        .btn:hover { background: #f97316; filter: brightness(0.9); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .btn-secondary { background: transparent; color: #0033a0; border-color: #0033a0; }
        .btn-secondary:hover { background: #0033a0; color: white; }
        .btn:disabled { background: #d1d5db; color: #9ca3af; cursor: not-allowed; opacity: 0.6; }
        footer { background: #f97316; color: white; padding: 1rem; text-align: center; border-top: 1px solid #ddd; font-size: 0.85rem; flex-shrink: 0; }
        footer p { margin: 0.3rem 0; }
        @media (max-width: 768px) { .page-wrapper { flex-direction: column; } .sidebar { width: 100%; height: auto; border-right: none; border-bottom: 1px solid #ddd; } .main-content { padding: 15px; } .content-area { padding: 15px; } .lesson-header h1 { font-size: 1.5rem; } }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="logo"><span class="logo-bracket">&lt;</span><span class="logo-text">SLU LearnCode</span><span class="logo-bracket">/&gt;</span></a>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../html-tutorials.html">HTML</a></li>
                <li><a href="../css-tutorials.html">CSS</a></li>
                <li><a href="../js-tutorials.html" class="active">JavaScript</a></li>
                <li><a href="../project-walkthrough.html">Project</a></li>
            </ul>
        </div>
    </nav>
    <div class="page-wrapper">
        <aside class="sidebar">
            <div class="sidebar-title">JavaScript Lessons</div>
            <a href="lesson-js-01.html">1. What is JavaScript?</a>
            <a href="lesson-js-02.html">2. Variables & Data Types</a>
            <a href="lesson-js-03.html">3. Operators</a>
            <a href="lesson-js-04.html">4. Conditionals</a>
            <a href="lesson-js-05.html">5. Loops</a>
            <a href="lesson-js-06.html">6. Functions</a>
            <a href="lesson-js-07.html">7. Arrays</a>
            <a href="lesson-js-08.html">8. Objects</a>
            <a href="lesson-js-09.html">9. DOM Manipulation</a>
            <a href="lesson-js-10.html">10. Events</a>
            <a href="lesson-js-11.html">11. ES6 Features</a>
            <a href="lesson-js-12.html">12. Async & Promises</a>
            <a href="lesson-js-13.html">13. Modules & Imports</a>
            <a href="lesson-js-14.html" class="active">14. Error Handling</a>
            <a href="lesson-js-15.html">15. Best Practices</a>
            <div class="sidebar-title" style="margin-top: 20px;">Advanced Topics</div>
            <a href="lesson-js-19.html">19. APIs & JSON</a>
            <a href="lesson-js-20.html">20. Dynamic Forms</a>
            <div class="sidebar-title" style="margin-top: 20px;">Node.js Lessons</div>
            <a href="lesson-nodejs-01.html">21. What is Node.js?</a>
            <a href="lesson-nodejs-02.html">22. Setting Up Node.js</a>
            <a href="lesson-nodejs-03.html">23. Building Your First Server</a>
        </aside>
        <main class="main-content">
            <div class="lesson-header">
                <h1>Error Handling</h1>
                <div class="lesson-meta">Lesson 14 of 15</div>
            </div>
            <div class="content-area">
                <h2>What You'll Learn</h2>
                <p>In this comprehensive lesson, you will learn how to handle errors gracefully in JavaScript. Error handling is essential for building robust applications that don't crash unexpectedly. By the end of this lesson, you'll understand different types of errors, how to catch and handle them, and best practices for error management.</p>

                <h2>What Are Errors?</h2>
                <p>Errors occur when something goes wrong in your code. Instead of letting your entire program crash, you can catch errors and handle them appropriately. This makes your code more robust, user-friendly, and professional.</p>

                <h3>Types of Errors</h3>
                <p>JavaScript has different types of errors for different situations:</p>
                <ul>
                    <li><strong>Syntax Errors:</strong> Code written incorrectly. The browser won't even run the code. Example: missing closing brace</li>
                    <li><strong>Runtime Errors:</strong> Errors that happen when the code runs. Example: trying to call a method on undefined</li>
                    <li><strong>Logic Errors:</strong> Code runs without error but produces wrong results. Example: using wrong variable in calculation</li>
                </ul>

                <h2>The Try-Catch-Finally Statement</h2>
                <p>The <code>try-catch-finally</code> statement is the main tool for handling errors. It lets you test code and handle errors without crashing:</p>

                <div class="highlight-box">
                    <strong>Key Concept: Error Handling Flow</strong>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li><strong>try { }</strong> - Code that might cause an error</li>
                        <li><strong>catch (error) { }</strong> - Code that runs IF an error occurs</li>
                        <li><strong>finally { }</strong> - Code that ALWAYS runs, error or not (optional)</li>
                    </ul>
                </div>

                <h3>Try-Catch Syntax</h3>
                <div class="code-block">try {
  // This code might cause an error
  const result = riskyFunction();
  console.log(result);
} catch (error) {
  // This code runs ONLY if an error happened
  console.log('An error occurred:', error.message);
}</div>

                <p><strong>What This Does:</strong></p>
                <ul>
                    <li>JavaScript tries to run the code in the <code>try</code> block</li>
                    <li>If an error occurs, it immediately jumps to the <code>catch</code> block</li>
                    <li>The <code>catch</code> block receives an <code>error</code> object with information about what went wrong</li>
                </ul>

                <h3>Practical Try-Catch Example</h3>
                <div class="code-block">try {
  // Try to parse JSON data
  let userText = '{"name": "John", "age": 30}';
  let user = JSON.parse(userText);
  console.log(user.name);  // "John"
} catch (error) {
  // If JSON is invalid, this runs instead
  console.log('Failed to parse JSON:', error.message);
}</div>

                <h2>Try-Catch-Finally</h2>
                <p>The <code>finally</code> block runs regardless of whether an error occurred. Use it for cleanup tasks:</p>

                <div class="code-block">let file;

try {
  // Try to open a file
  file = openFile('data.txt');
  let data = file.read();
  console.log(data);
} catch (error) {
  // Handle the error
  console.log('Error reading file:', error.message);
} finally {
  // Always close the file, even if error occurred
  if (file) {
    file.close();
    console.log('File closed');
  }
}</div>

                <p><strong>Why finally is Useful:</strong> The <code>finally</code> block ensures that cleanup code always runs. This is crucial for closing files, database connections, or releasing resources.</p>

                <h2>Throwing Custom Errors</h2>
                <p>You can use the <code>throw</code> keyword to create your own errors. This is useful for validating input or enforcing business logic:</p>

                <h3>Simple Throw Example</h3>
                <div class="code-block">function validateAge(age) {
  if (age < 0 || age > 150) {
    throw new Error('Age must be between 0 and 150');
  }
  console.log('Age is valid:', age);
}

try {
  validateAge(-5);  // This will throw an error
} catch (error) {
  console.log(error.message);  // "Age must be between 0 and 150"
}</div>

                <h3>Throwing in Calculations</h3>
                <div class="code-block">function divide(a, b) {
  if (b === 0) {
    throw new Error('Cannot divide by zero!');
  }
  return a / b;
}

try {
  let result = divide(10, 0);
  console.log(result);
} catch (error) {
  console.log('Math error:', error.message);
}</div>

                <h2>Error Objects and Properties</h2>
                <p>When an error is caught, you get an error object with useful properties:</p>

                <ul>
                    <li><strong>error.message</strong> - A description of what went wrong</li>
                    <li><strong>error.name</strong> - The type of error (ReferenceError, TypeError, etc.)</li>
                    <li><strong>error.stack</strong> - The call stack showing where the error happened</li>
                </ul>

                <h3>Examining Error Objects</h3>
                <div class="code-block">try {
  // Try to call a non-existent function
  nonExistentFunction();
} catch (error) {
  console.log('Error name:', error.name);      // "ReferenceError"
  console.log('Error message:', error.message); // "nonExistentFunction is not defined"
  console.log('Stack trace:', error.stack);     // Shows where error occurred
}</div>

                <h2>Common Error Types</h2>

                <h3>ReferenceError</h3>
                <p>When you reference a variable or function that doesn't exist:</p>
                <div class="code-block">try {
  console.log(undefinedVariable);
} catch (error) {
  console.log(error.name);  // "ReferenceError"
}</div>

                <h3>TypeError</h3>
                <p>When you try to use a value with the wrong type:</p>
                <div class="code-block">try {
  let num = 5;
  num.toUpperCase();  // Can't call string method on number
} catch (error) {
  console.log(error.name);  // "TypeError"
}</div>

                <h3>SyntaxError</h3>
                <p>When code is written incorrectly (caught before running):</p>
                <div class="code-block">// This is a SyntaxError - invalid JSON
try {
  let data = JSON.parse('{invalid json}');
} catch (error) {
  console.log(error.name);  // "SyntaxError"
}</div>

                <h3>RangeError</h3>
                <p>When a value is outside the valid range:</p>
                <div class="code-block">try {
  let array = new Array(-1);  // Arrays can't have negative length
} catch (error) {
  console.log(error.name);  // "RangeError"
}</div>

                <h2>Error Handling Best Practices</h2>

                <h3>1. Handle Specific Errors</h3>
                <p>Catch only the errors you expect to handle:</p>
                <div class="code-block">try {
  let user = JSON.parse(userInput);
} catch (error) {
  // Handle only JSON parsing errors
  if (error instanceof SyntaxError) {
    console.log('Invalid JSON format');
  } else {
    // Re-throw other errors
    throw error;
  }
}</div>

                <h3>2. Provide Meaningful Messages</h3>
                <div class="code-block">// Good - helpful error message
try {
  saveUserData(user);
} catch (error) {
  console.log(`Failed to save user ${user.id}: ${error.message}`);
}

// Bad - unclear message
try {
  saveUserData(user);
} catch (error) {
  console.log('Error!');
}</div>

                <h3>3. Don't Ignore Errors Silently</h3>
                <div class="code-block">// Bad - error is ignored
try {
  fetchData();
} catch (error) {
  // Silently ignoring the error!
}

// Good - handle or log the error
try {
  fetchData();
} catch (error) {
  console.log('Failed to fetch data:', error.message);
  // Take appropriate action
}</div>

                <h3>4. Clean Up Resources in Finally</h3>
                <div class="code-block">let connection;

try {
  connection = openDatabase();
  queryDatabase(connection);
} catch (error) {
  console.log('Database error:', error.message);
} finally {
  // Always close the connection
  if (connection) {
    connection.close();
  }
}</div>

                <h2>Error Handling in Real Applications</h2>

                <h3>Fetching Data with Error Handling</h3>
                <div class="code-block">async function fetchUserData(userId) {
  try {
    const response = await fetch(`/api/users/${userId}`);
    
    if (!response.ok) {
      throw new Error(`Server error: ${response.status}`);
    }
    
    const user = await response.json();
    console.log('User loaded:', user);
    return user;
    
  } catch (error) {
    console.log('Failed to load user:', error.message);
    return null;
  }
}

// Use it
fetchUserData(123).then(user => {
  if (user) console.log('Success:', user);
  else console.log('Could not load user');
});</div>

                <h2>Summary of Error Handling</h2>
                <ul>
                    <li><strong>Use try-catch</strong> to prevent crashes when errors occur</li>
                    <li><strong>Use finally</strong> for cleanup tasks that must run</li>
                    <li><strong>Throw custom errors</strong> to validate input and enforce rules</li>
                    <li><strong>Handle specific errors</strong> with error types or instanceof</li>
                    <li><strong>Log meaningful messages</strong> to help with debugging</li>
                    <li><strong>Don't ignore errors</strong> - always handle or log them</li>
                    <li><strong>Test error scenarios</strong> as thoroughly as you test success cases</li>
                </ul>

                <div class="nav-footer">
                    <a href="lesson-js-13.html" class="btn btn-secondary">← Previous Lesson</a>
                    <a href="lesson-js-15.html" class="btn">Next Lesson →</a>
                </div>
            </div>
            <footer>
                <p><strong>SLU LearnCode</strong> - Web Development Tutorials</p>
                <p>A helpful aid for Students working on the Digital Bones Box project</p>
            </footer>
        </main>
    </div>
    <script>
        const timestamp = new Date().getTime();
        document.querySelectorAll('link[rel="stylesheet"]').forEach(link => {
            const href = link.getAttribute('href');
            if (href && !href.includes('?')) {
                link.setAttribute('href', href + '?t=' + timestamp);
            }
        });
    </script>
</body>
</html>